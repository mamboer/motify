/*!
 * motify 1.0.0
 * A mojo-magical notification plugin for modern browers 
 * Inspired by http://tympanus.net/Development/NotificationStyles/index.html
 * @dependencies 
 *  1. classy.js <http://faso.me/classy>
 *  2. modernizr
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * Copyright 2015, FASO.ME <http://www.faso.me>
 */
!function(t,i){"function"==typeof define&&define.amd?define(["classy"],i):t.classy=i(t.classy)}(this,function(t){function i(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n]);return t}function n(t){this.options=i({},this.options),i(this.options,t),this._init()}var o=(window.document.documentElement,{animations:Modernizr.cssanimations}),s={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},e=s[Modernizr.prefixed("animation")];return n.prototype.options={wrapper:document.body,message:"yo!",layout:"growl",effect:"slide",type:"error",ttl:6e3,onClose:function(){return!1},onOpen:function(){return!1}},n.prototype._init=function(){this.ntf=document.createElement("div"),this.ntf.className="mt-box mt-"+this.options.layout+" mt-effect-"+this.options.effect+" mt-type-"+this.options.type;var t='<div class="mt-box-inner">';t+=this.options.message,t+="</div>",t+='<span class="mt-close"></span></div>',this.ntf.innerHTML=t,this.options.wrapper.insertBefore(this.ntf,this.options.wrapper.firstChild);var i=this;this.options.ttl&&(this.dismissttl=setTimeout(function(){i.active&&i.dismiss()},this.options.ttl)),this._initEvents()},n.prototype._initEvents=function(){var t=this;this.ntf.querySelector(".mt-close").addEventListener("click",function(){t.dismiss()})},n.prototype.show=function(){this.active=!0,t.remove(this.ntf,"mt-hide"),t.add(this.ntf,"mt-show"),"function"==typeof this.options.onOpen&&this.options.onOpen()},n.prototype.dismiss=function(){var i=this;this.active=!1,clearTimeout(this.dismissttl),t.remove(this.ntf,"mt-show"),setTimeout(function(){t.add(i.ntf,"mt-hide"),"function"==typeof i.options.onClose&&i.options.onClose()},25);var n=function(t){if(o.animations){if(t.target!==i.ntf)return!1;this.removeEventListener(e,n)}i.options.wrapper.removeChild(this)};o.animations?this.ntf.addEventListener(e,n):n()},n});